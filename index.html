<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Server Capabilities Dashboard</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>Server Capabilities Dashboard</h1>
        <nav>
            <ul>
                <li><a href="#real-time-updates">Real-time Updates</a></li>
                <li><a href="#user-interaction">User Interaction</a></li>
                <li><a href="#api-demonstrations">API Demonstrations</a></li>
            </ul>
        </nav>
    </header>

    <main>

        <section id="real-time-updates" class="dashboard-section">
            <h2>Real-time Updates</h2>
            <div class="log-container">
                <h3>Server Logs</h3>
                <ul id="server-logs">
                    <li>[2025-08-22 01:00:00] Server started.</li>
                </ul>
            </div>
        </section>

        <section id="user-interaction" class="dashboard-section">
            <h2>User Interaction</h2>
            <div class="interaction-panel">
                <button id="refresh-data">Refresh Data</button>
                <input type="text" id="user-input" placeholder="Enter command...">
                <button id="send-command">Send Command</button>
            </div>
            <div class="response-area">
                <h3>Server Response</h3>
                <p id="server-response">No response yet.</p>
            </div>
        </section>

        <section id="api-demonstrations" class="dashboard-section">
            <h2>API Demonstrations</h2>

            <div class="api-demo-section">
                <h3>GET /api/search</h3>
                <p>Global search across articles, categories, and tags.</p>
                <input type="text" id="search-q" placeholder="Search term (required)">
                <div style="margin: 8px 0;">
                  <label><input type="checkbox" id="search-type-articles" checked> Articles</label>
                  <label><input type="checkbox" id="search-type-categories" checked> Categories</label>
                  <label><input type="checkbox" id="search-type-tags" checked> Tags</label>
                </div>
                <div style="margin: 8px 0;">
                  <label for="search-lang">Language:</label>
                  <select id="search-lang">
                    <option value="en" selected>English</option>
                    <option value="bn">Bengali</option>
                  </select>
                </div>
                <div style="margin: 8px 0;">
                  <input type="number" id="search-limit" placeholder="limit (default 10)" min="1" max="100" style="width:160px;">
                  <input type="number" id="search-page" placeholder="page (default 1)" min="1" style="width:160px;">
                  <label style="margin-left:8px;"><input type="checkbox" id="search-includeCounts"> includeCounts</label>
                </div>
                <button id="search-exec-btn">Execute</button>
                <pre><code id="search-response"></code></pre>
            </div>

            <div class="api-demo-section">
                <h3>GET /api/search/suggestions</h3>
                <p>Autocomplete suggestions across articles, categories, and tags.</p>
                <input type="text" id="suggestions-q" placeholder="Type to get suggestions...">
                <div style="margin: 8px 0;">
                  <label><input type="checkbox" id="suggestions-type-articles" checked> Articles</label>
                  <label><input type="checkbox" id="suggestions-type-categories" checked> Categories</label>
                  <label><input type="checkbox" id="suggestions-type-tags" checked> Tags</label>
                </div>
                <div style="margin: 8px 0;">
                  <label for="suggestions-lang">Language:</label>
                  <select id="suggestions-lang">
                    <option value="en" selected>English</option>
                    <option value="bn">Bengali</option>
                  </select>
                  <input type="number" id="suggestions-limit" placeholder="limit (default 10)" min="1" max="20" style="width:160px;margin-left:12px;">
                  <input type="number" id="suggestions-perTypeLimit" placeholder="perTypeLimit (default 5)" min="1" max="10" style="width:220px;margin-left:12px;">
                  <label style="margin-left:8px;"><input type="checkbox" id="suggestions-includeMeta"> includeMeta</label>
                </div>
                <div style="margin: 8px 0;">
                  <button id="suggestions-exec-btn">Execute</button>
                  <small style="margin-left:10px;color:#555;">Typing in the input will auto-fetch (debounced).</small>
                </div>
                <ul id="suggestions-list" class="suggestions-list"></ul>
                <pre><code id="suggestions-response"></code></pre>
            </div>
            <div class="api-demo-section">
                <h3>GET /api/health</h3>
                <p>Checks server and database health.</p>
                <button id="health-check-btn">Execute</button>
                <pre><code id="health-check-response"></code></pre>
            </div>

            <div class="api-demo-section">
                <h3>POST /api/auth/login</h3>
                <p>Authenticates a user and returns a JWT token.</p>
                <input type="email" id="login-email" placeholder="Email" value="test@example.com">
                <input type="password" id="login-password" placeholder="Password" value="testpassword">
                <button id="login-btn">Execute</button>
                <pre><code id="login-response"></code></pre>
                <p><strong>Current Token:</strong> <span id="current-token">None</span></p>
            </div>

            <div class="api-demo-section">
                <h3>POST /api/auth/register</h3>
                <p>Registers a new user and returns a JWT token.</p>
                <input type="email" id="register-email" placeholder="Email">
                <input type="password" id="register-password" placeholder="Password">
                <input type="text" id="register-display-name" placeholder="Display Name">
                <button id="register-btn">Execute</button>
                <pre><code id="register-response"></code></pre>
            </div>

            <div class="api-demo-section">
                <h3>POST /api/auth/logout</h3>
                <p>Logs out the current user by clearing the JWT token from client-side storage.</p>
                <button id="logout-btn">Execute Logout</button>
                <pre><code id="logout-response"></code></pre>
            </div>

            <div class="api-demo-section">
                <h3>GET /api/auth/profile</h3>
                <p>Retrieves the profile of the currently authenticated user.</p>
                <button id="profile-get-btn">Execute</button>
                <pre><code id="profile-get-response"></code></pre>
            </div>

            <div class="api-demo-section">
                <h3>PUT /api/auth/profile</h3>
                <p>Updates the display name of the currently authenticated user.</p>
                <input type="text" id="profile-update-display-name" placeholder="New Display Name">
                <button id="profile-update-btn">Execute</button>
                <pre><code id="profile-update-response"></code></pre>
            </div>


            <div class="api-demo-section">
                <h3>GET /api/articles</h3>
                <p>Lists all articles or searches by keyword.</p>
                <input type="text" id="articles-search-input" placeholder="Search keyword (optional)">
                <select id="articles-get-lang">
                    <option value="en">English</option>
                    <option value="bn">Bengali</option>
                </select>
                <button id="articles-get-btn">Execute</button>
                <input type="text" id="articles-get-tag-input" placeholder="Filter by tag (optional)">
                <pre><code id="articles-get-response"></code></pre>
            </div>

            <div class="api-demo-section">
                <h3>GET /api/articles/:id</h3>
                <p>Retrieves a single article by ID.</p>
                <input type="text" id="article-id-input" placeholder="Article ID">
                <select id="article-get-single-lang">
                    <option value="en">English</option>
                    <option value="bn">Bengali</option>
                </select>
                <button id="article-get-single-btn">Execute</button>
                <pre><code id="article-get-single-response"></code></pre>
                <p><strong>Tags:</strong> <span id="article-get-single-tags">None</span></p>
            </div>

            <div class="api-demo-section">
                <h3>POST /api/articles</h3>
                <p>Creates a new article (requires authentication).</p>
                <input type="text" id="article-create-title" placeholder="Title">
                <textarea id="article-create-content" placeholder="Content"></textarea>
                <input type="text" id="article-create-image" placeholder="Image URL (optional)">
                <input type="text" id="article-create-video" placeholder="Video URL (optional)">
                <input type="text" id="article-create-tags" placeholder="Tags (comma-separated, e.g., tech,news)">
                <select id="article-create-lang">
                    <option value="en">English</option>
                    <option value="bn">Bengali</option>
                </select>
                <button id="article-create-btn">Execute</button>
                <pre><code id="article-create-response"></code></pre>
            </div>

            <div class="api-demo-section">
                <h3>PUT /api/articles/:id</h3>
                <p>Updates an existing article (requires authentication).</p>
                <input type="text" id="article-update-id" placeholder="Article ID">
                <input type="text" id="article-update-title" placeholder="Title (required)">
                <textarea id="article-update-content" placeholder="Content (required)"></textarea>
                <input type="text" id="article-update-image" placeholder="Image URL (optional)">
                <input type="text" id="article-update-video" placeholder="Video URL (optional)">
                <input type="text" id="article-update-tags" placeholder="Tags (comma-separated, e.g., tech,news)">
                <select id="article-update-lang">
                    <option value="en">English</option>
                    <option value="bn">Bengali</option>
                </select>
                <button id="article-update-btn">Execute</button>
                <pre><code id="article-update-response"></code></pre>
            </div>
<div class="api-demo-section">
    <h3>DELETE /api/articles/:id</h3>
    <p>Deletes an article (requires authentication).</p>
    <input type="text" id="article-delete-id" placeholder="Article ID">
    <button id="article-delete-btn">Execute</button>
    <pre><code id="article-delete-response"></code></pre>
</div>

<!-- ============================== -->
<!-- Advanced Article Demos (New)  -->
<!-- ============================== -->

<div class="api-demo-section">
  <h3>GET /api/articles/recent</h3>
  <p>List recent published articles within the last N days (7 or 30). Public endpoint.</p>
  <label for="recent-days">Days:</label>
  <select id="recent-days" style="width:120px;">
    <option value="7" selected>7</option>
    <option value="30">30</option>
  </select>
  <label for="recent-lang" style="margin-left:8px;">Language:</label>
  <select id="recent-lang">
    <option value="en" selected>English</option>
    <option value="bn">Bengali</option>
  </select>
  <input type="text" id="recent-search" placeholder="Search (optional)" style="margin-left:8px;">
  <input type="text" id="recent-tag" placeholder="Tag code (optional)" style="margin-left:8px;">
  <button id="recent-btn" style="margin-left:8px;">Execute</button>
  <pre><code id="recent-response"></code></pre>
</div>

<div class="api-demo-section">
  <h3>GET /api/articles/by-author/:userId</h3>
  <p>List published articles authored by a specific user. Public endpoint.</p>
  <input type="number" id="articles-by-author-userId" placeholder="Author userId" min="1" style="width:200px;">
  <label for="articles-by-author-lang" style="margin-left:8px;">Language:</label>
  <select id="articles-by-author-lang">
    <option value="en" selected>English</option>
    <option value="bn">Bengali</option>
  </select>
  <input type="text" id="articles-by-author-search" placeholder="Search (optional)" style="margin-left:8px;">
  <input type="text" id="articles-by-author-tag" placeholder="Tag code (optional)" style="margin-left:8px;">
  <button id="articles-by-author-btn" style="margin-left:8px;">Execute</button>
  <pre><code id="articles-by-author-response"></code></pre>
</div>

<div class="api-demo-section">
  <h3>GET /api/articles/drafts</h3>
  <p>List draft articles. Auth required: admin/editor see all; reader sees own drafts.</p>
  <label for="articles-drafts-lang">Language:</label>
  <select id="articles-drafts-lang">
    <option value="en" selected>English</option>
    <option value="bn">Bengali</option>
  </select>
  <input type="text" id="articles-drafts-search" placeholder="Search (optional)" style="margin-left:8px;">
  <input type="text" id="articles-drafts-tag" placeholder="Tag code (optional)" style="margin-left:8px;">
  <button id="articles-drafts-btn" style="margin-left:8px;">Execute</button>
  <pre><code id="articles-drafts-response"></code></pre>
</div>

<div class="api-demo-section">
  <h3>GET /api/articles/hidden</h3>
  <p>List hidden articles. Auth required: admin/editor.</p>
  <label for="articles-hidden-lang">Language:</label>
  <select id="articles-hidden-lang">
    <option value="en" selected>English</option>
    <option value="bn">Bengali</option>
  </select>
  <input type="text" id="articles-hidden-search" placeholder="Search (optional)" style="margin-left:8px;">
  <input type="text" id="articles-hidden-tag" placeholder="Tag code (optional)" style="margin-left:8px;">
  <button id="articles-hidden-btn" style="margin-left:8px;">Execute</button>
  <pre><code id="articles-hidden-response"></code></pre>
</div>

<div class="api-demo-section">
  <h3>PUT /api/articles/:id/status</h3>
  <p>Change article status to draft | published | hidden. Auth required (admin/editor).</p>
  <input type="text" id="article-status-id" placeholder="Article ID">
  <label for="article-status-value" style="margin-left:8px;">Status:</label>
  <select id="article-status-value">
    <option value="draft">draft</option>
    <option value="published" selected>published</option>
    <option value="hidden">hidden</option>
  </select>
  <button id="article-status-btn" style="margin-left:8px;">Execute</button>
  <pre><code id="article-status-response"></code></pre>
</div>

<div class="api-demo-section">
  <h3>POST /api/articles/:id/duplicate</h3>
  <p>Duplicate an article (container, translations, tags, media). Creates a draft under current user. Auth required (admin/editor).</p>
  <input type="text" id="article-duplicate-id" placeholder="Article ID">
  <button id="article-duplicate-btn" style="margin-left:8px;">Execute</button>
  <pre><code id="article-duplicate-response"></code></pre>
</div>

<div class="api-demo-section">
  <h3>GET /api/articles/:id/translations</h3>
  <p>List all translations for a published article. Public endpoint.</p>
  <input type="text" id="translations-get-article-id" placeholder="Article ID">
  <button id="translations-get-btn" style="margin-left:8px;">Execute</button>
  <pre><code id="translations-get-response"></code></pre>
</div>

<div class="api-demo-section">
  <h3>POST /api/articles/:id/translations</h3>
  <p>Add a translation (auth required, admin/editor).</p>
  <input type="text" id="translations-add-article-id" placeholder="Article ID">
  <label for="translations-add-lang" style="margin-left:8px;">Lang:</label>
  <select id="translations-add-lang">
    <option value="en" selected>en</option>
    <option value="bn">bn</option>
  </select>
  <input type="text" id="translations-add-title" placeholder="Title" style="margin-top:8px;">
  <textarea id="translations-add-content" placeholder="Content"></textarea>
  <input type="text" id="translations-add-excerpt" placeholder="Excerpt (optional)">
  <button id="translations-add-btn">Execute</button>
  <pre><code id="translations-add-response"></code></pre>
</div>

<div class="api-demo-section">
  <h3>PUT /api/articles/:id/translations/:lang</h3>
  <p>Update a translation (auth required, admin/editor). Provide any subset of fields.</p>
  <input type="text" id="translations-update-article-id" placeholder="Article ID">
  <label for="translations-update-lang" style="margin-left:8px;">Lang:</label>
  <select id="translations-update-lang">
    <option value="en" selected>en</option>
    <option value="bn">bn</option>
  </select>
  <input type="text" id="translations-update-title" placeholder="New title (optional)" style="margin-top:8px;">
  <textarea id="translations-update-content" placeholder="New content (optional)"></textarea>
  <input type="text" id="translations-update-excerpt" placeholder="New excerpt (optional)">
  <button id="translations-update-btn">Execute</button>
  <pre><code id="translations-update-response"></code></pre>
</div>

<div class="api-demo-section">
  <h3>DELETE /api/articles/:id/translations/:lang</h3>
  <p>Delete a translation (auth required, admin/editor). Prevents deleting last remaining translation.</p>
  <input type="text" id="translations-delete-article-id" placeholder="Article ID">
  <label for="translations-delete-lang" style="margin-left:8px;">Lang:</label>
  <select id="translations-delete-lang">
    <option value="en" selected>en</option>
    <option value="bn">bn</option>
  </select>
  <button id="translations-delete-btn" style="margin-left:8px;">Execute</button>
  <pre><code id="translations-delete-response"></code></pre>
</div>
<!-- ===================== -->
<!-- Tag Management Demos  -->
<!-- ===================== -->

<div class="api-demo-section">
    <h3>GET /api/tags</h3>
    <p>List all tags (optional lang).</p>
    <label for="tags-list-lang">Language:</label>
    <select id="tags-list-lang">
        <option value="en" selected>English</option>
        <option value="bn">Bengali</option>
    </select>
    <button id="tags-list-btn">Execute</button>
    <pre><code id="tags-list-response"></code></pre>
</div>

<div class="api-demo-section">
    <h3>GET /api/tags/popular</h3>
    <p>Most used tags.</p>
    <input type="number" id="tags-popular-limit" placeholder="limit (default 10)" min="1" max="100" style="width:200px;">
    <button id="tags-popular-btn">Execute</button>
    <pre><code id="tags-popular-response"></code></pre>
</div>

<div class="api-demo-section">
    <h3>GET /api/tags/:code</h3>
    <p>Retrieve a tag by code.</p>
    <input type="text" id="tag-get-code" placeholder="Tag code (e.g., tech)">
    <button id="tag-get-btn">Execute</button>
    <pre><code id="tag-get-response"></code></pre>
</div>

<div class="api-demo-section">
    <h3>GET /api/tags/:id/articles</h3>
    <p>Articles associated with a tag ID.</p>
    <input type="number" id="tag-articles-id" placeholder="Tag ID" min="1" style="width:160px;">
    <label for="tag-articles-lang" style="margin-left:8px;">Language:</label>
    <select id="tag-articles-lang">
        <option value="en" selected>English</option>
        <option value="bn">Bengali</option>
    </select>
    <button id="tag-articles-btn" style="margin-left:8px;">Execute</button>
    <pre><code id="tag-articles-response"></code></pre>
</div>

<div class="api-demo-section">
    <h3>POST /api/tags</h3>
    <p>Create a new tag (requires authentication; admin/editor).</p>
    <input type="text" id="tag-create-code" placeholder="code (lowercase, no spaces)">
    <input type="text" id="tag-create-name-en" placeholder="name_en">
    <input type="text" id="tag-create-name-bn" placeholder="name_bn (optional)">
    <button id="tag-create-btn">Execute</button>
    <pre><code id="tag-create-response"></code></pre>
</div>

<div class="api-demo-section">
    <h3>PUT /api/tags/:code</h3>
    <p>Update tag names (requires authentication; admin/editor).</p>
    <input type="text" id="tag-update-code" placeholder="code">
    <input type="text" id="tag-update-name-en" placeholder="name_en (required)">
    <input type="text" id="tag-update-name-bn" placeholder="name_bn (optional)">
    <button id="tag-update-btn">Execute</button>
    <pre><code id="tag-update-response"></code></pre>
</div>

<div class="api-demo-section">
    <h3>DELETE /api/tags/:code</h3>
    <p>Delete a tag (requires authentication; admin/editor).</p>
    <input type="text" id="tag-delete-code" placeholder="code">
    <button id="tag-delete-btn">Execute</button>
    <pre><code id="tag-delete-response"></code></pre>
</div>


</section>
    </main>

    <footer>
        <p>&copy; 2025 University Project. All rights reserved.</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
</body>
</html>
